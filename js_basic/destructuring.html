<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Destructuring</title>
</head>

<body>
  <script>
    // Destructuring adalah fitur yang bisa digunakan untuk membongkar value-value di array atau object ke dalam variable-variable
    // Fitur ini sangat mempermudah kita ketika ingin mengambil data dari array atau object tanpa harus melakukan pengambilan data satu persatu

    // mengambil data dari array atau mengakses data dari array secara manual
    //   const names = ["John", "Jane", "Mary"];
    //   const firstName = names[0];
    //   const middleName = names[1];
    //   const lastName = names[2];

    //   console.info(firstName);
    //   console.info(middleName);
    //   console.info(lastName);

    // Destructuring array

    const names = ["John", "Jane", "Mary", "Bob", "Alice"];
    const [firstName, middleName, lastName, ...others] = names;
    // firstName, middleName, lastName adalah variable yang akan diisi data dari array names.
    // dan others adalah array yang akan diisi data dari array names yang telah dipecahkan

    console.info(firstName);
    console.info(middleName);
    console.info(lastName);
    console.info(others);

    // Destructuring object
    const persons = {
      fName: "John",
      midName: "Jane",
      lName: "Doe",
      address: {
        street: "Jalan Raya",
        city: "Jakarta",
        province: "DKI Jakarta",
        country: "Indonesia",
      }, // properti address dalam bentuk object
      hobby: ["Futsal", "Basket", "Badminton"],
      channel: "Yutube",
    };

    // const { fName, midName, lName, address, ...other } = persons; // destructuring object persons menjadi 5 variable yang akan diisi data dari properti object persons
    // console.info(fName);
    // console.info(midName);
    // console.info(lName);
    // console.info(address);
    // console.info(other);

    // Destructuring nested object
    const {
      fName,
      midName,
      lName,
      address: { street, city, province, country },
      ...other
    } = persons;
    // destructuring object persons dengan properti address yang dalam bentuk object.
    console.info(fName);
    console.info(midName);
    console.info(lName);
    console.info(street);
    console.info(city);
    console.info(province);
    console.info(country);
    console.info(other);

    /*
    Destructuring tidak hanya bisa dilakukan di variable, tapi juga bisa dilakukan di function parameter
    Hal ini membuat kita mudah ketika ingin mengambil nested data dalam array atau object dalam function
    */

    // Destrtucturing function parameter (object)
    function getAnimal({ name, age, color }) {
      // parameter function "getAnimal" memiliki properti "name", "age", dan "color"
      console.info(name);
      console.info(age);
      console.info(color);
    }

    const animal = {
      // object animal yang akan diisi data dari function getAnimal
      name: "Kucing",
      age: 2,
      color: "Coklat",
    };

    getAnimal(animal); // mengirimkan data dari object animal ke function getAnimal

    // Destructuring function parameter (array)
    function sum([first, second]) {
      // parameter function "sum" memiliki properti "first" dan "second"
      return first + second;
    }

    console.info(sum([1, 2])); // mengirimkan data dari array [1, 2] ke function sum
    console.info(sum([10, 18])); // mengirimkan data dari array [10, 18] ke function sum

    /*
    Yang paling menarik di destructuring adalah, kita bisa menambahkan default value
    Jadi misal kita kita melakukan destructuring terhadap array, ternyata tidak ada datanya, maka kita bisa menambahkan default value
    Begitu juga pada object, jika ternyata property nya tidak ada, maka kita bisa menambahkan default value
    */

    // default value destructuring array

    const fruits = ["Apel", 2000];
    const [name, price = "Belum ada harga"] = fruits; // jika tidak ada data di array fruits, maka price akan diisi dengan nilai "Belum ada harga"

    console.info(name); // mengirimkan data dari array fruits ke variable name
    console.info(price); // mengirimkan data dari array fruits ke variable price

    // default value destructuring object
    const getCar = {
      nama: "BMW",
      warna: "Hitam",
    };

    const { nama, harga = "Belum ada harga", warna } = getCar; // jika tidak ada data/properti harga di object getCar, maka price akan diisi dengan nilai "Belum ada harga"
    console.info(nama); // mengirimkan data dari object getCar ke variable nama
    console.info(harga); // mengirimkan data dari object getCar ke variable harga
    console.info(warna); // mengirimkan data dari object getCar ke variable warna

    /*
    Saat melakukan destructuring di Array, kita bisa dengan mudah membuat nama variable sesuka kita
    Namun pada saat melakukan destructuring, kita harus membuat nama variable sama dengan nama property
    Kita juga bisa menggunakan nama variable lain saat melakukan destructuring object jika kita mau
    */

    // Destructuring array dengan nama variable yang berbeda
    const kampus = {
      nama: "Universitas Indonesia",
      alamat: "Jalan Raya",
      jurusan: "Teknik Informatika",
      fakultas: "Teknik",
      kota: "Jakarta",
      provinsi: "DKI Jakarta",
      negara: "Indonesia",
    };

    let { nama: namaKampus, alamat: alamatKampus } = kampus; // namaKampus dan alamatKampus adalah variable yang akan diisi data dari properti object kampus

    console.info(namaKampus); // mengirimkan data dari object kampus ke variable namaKampus
    console.info(alamatKampus); // mengirimkan data dari object kampus ke variable alamatKampus
    // console.info(jurusan); // error, karena tidak ada properti jurusan di destructuring object kampus

    let { jurusan, fakultas, kota, provinsi, negara } = kampus;
    // jurusan, fakultas, kota, provinsi, negara adalah variable yang akan diisi data dari properti object kampus
    console.info(jurusan); // mengirimkan data dari object kampus ke variable jurusan
    console.info(fakultas); // mengirimkan data dari object kampus ke variable fakultas
    console.info(kota); // mengirimkan data dari object kampus ke variable kota
    console.info(provinsi); // mengirimkan data dari object kampus ke variable provinsi
    console.info(negara); // mengirimkan data dari object kampus ke variable negara
  </script>
</body>

</html>